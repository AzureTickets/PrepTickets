<div id="event" ng-init="loadEvent()" ng-show="EventObj">
  <checkout-process step="1"></checkout-process>
  <blocks>
    <block type="target" color="green">
      <i class="icon icon-ticket"></i>
      <span>{{"Event.Title" | t:"Event"}}</span>
    </block>
    <block type="image">
      <div class="col-borderless">
        <img ng-src="/img/default_event.jpg" fallback-src="/img/default_event.jpg" alt="{{EventObj.Name}}" class="img-responsive">
      </div>
    </block>
    <block type="title" class="with-subtitle">
      <div class="row fading-border-bottom title">
        <div class="col-xs-2"><i class="icon-building"></i></div>
        <div class="col-xs-10"><h4>{{StoreObj.Name}}</h4></div>
      </div>
      <div class="row subtitle">
        <div class="col-xs-2"><i class="icon-ticket"></i></div>
        <div class="col-xs-10"><h5>{{EventObj.Name}}</h5></div>
      </div>
      <div class="row eventdate">
        <div class="col-xs-2">&nbsp;</div>
        <div class="col-xs-10 text-left">
          <eventdate event="EventObj"></eventdate>
        </div>
      </div>
    </block>
  </blocks>
  <div class="event-info">
    <h4>{{"Event.InfoTitle"| t:"Event Info:"}}</h4>
    <div class="information" ng-bind-html-unsafe="EventObj.Description">No information given</div>  
  </div>
  <div class="row row-unpadded">
    <div class="col-xs-12 col-sm-8" id="tickets">
      <h3>{{"Event.ChooseTicketTitle"| t:"Choose which type of ticket you want to purchase"}}</h3>
      <form action="" name="eventForm" ng-submit="saveCart()">
        <table class="table table-hover table-borderless">
          <thead>
            <tr>
              <th class="">{{"Event.Table.Header.TicketName"| t:"Ticket Name"}}</th>
              <th class="center">{{"Event.Table.Header.Price"| t:"Price"}}</th>
              <th class="center">{{"Event.Table.Header.Quantity"| t:"Quantity"}}</th>
            </tr>  
          </thead>
          <tbody>
            <tr class="items " ng-repeat="item in EventObj.Items">
              <td class="">{{item.Name}}</td>
              <td class="center">{{item.Price.ItemPrice | currency}}</td>
              <td class="center">
                <input type="number" min='0' max="99" required="true" ng-model="CurrentCart.Items[item.Key].Quantity" class="form-control"/>
              </td>
            </tr>
          </tbody>
        </table>

        <div class="text-xs-center text-right">
          <a href="" class="btn btn-green btn-huge btn-clean  btn-bottom-buffer" ng-click="saveCart()" ng-disabled="eventForm.$invalid">
            {{"Event.Button.AddToCart"| t:"Add to Cart"}}
          </a>  
        </div>
      </form>
    </div>
    <div class="col-xs-12 col-sm-4 text-center col-unpadded" id="location">
      <div id="map">
        <img src="http://dev.virtualearth.net/REST/v1/Imagery/Map/Road/47.610,-122.127/14?mapSize=600,400&pushpin=47.610,-122.127;5;X&key=AgPzPnVZziQw-UBNbXDqhANfg5fFYmDtaErGsuW_-KSjP3fJvvyYp5s5wjr-yxnT" class="img-responsive" alt="Map to {{EventObj.Places[0].Address | address}}">
      </div>
      <div id="address">
        <h4>{{EventObj.Places[0].Name}}</h4>
        <location-address>{{EventObj.Places[0].Address | address}}</location-address>
      </address>
    </div>
  </div>
</div>